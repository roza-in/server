# ==========================================
# ðŸš€ ROZX Server Environment Variables
# ==========================================

# ------------------------------------------
# 1. Application Settings
# ------------------------------------------
NODE_ENV=production
PORT=5000
API_VERSION=v1
APP_NAME=rozx
CLIENT_URL=https://your-domain.com

# ------------------------------------------
# 2. Database (Supabase)
# ------------------------------------------
# Supabase Transaction Pooler URL
DATABASE_URL="postgres://postgres.[ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true"

# Supabase API URL & Keys
SUPABASE_URL=https://[ref].supabase.co
# Service Role Key (REQUIRED for Admin Operations)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
# Anon Key
SUPABASE_ANON_KEY=your_anon_key

# ------------------------------------------
# 3. Security & Auth
# ------------------------------------------
# Generate random 32-char strings
JWT_SECRET=your_jwt_secret
COOKIE_SECRET=your_cookie_secret
WEBHOOK_API_KEY=your_webhook_api_key

JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# ------------------------------------------
# 4. Redis (Upstash) - Rate Limiting
# ------------------------------------------
USE_REDIS=true
# Upstash REST URL & Token
UPSTASH_REDIS_REST_URL=https://[your-db].upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# ------------------------------------------
# 5. Payments (Cashfree)
# ------------------------------------------
PAYMENT_PROVIDER=cashfree
CASHFREE_ENV=production
CASHFREE_APP_ID=your_production_app_id
CASHFREE_SECRET_KEY=your_production_secret_key

# ------------------------------------------
# 6. Notifications
# ------------------------------------------
# SendGrid (Email)
SG.your_key
SENDGRID_EMAIL_FROM=support@rozx.in

# WhatsApp (Optional)
INTERAKT_API_KEY=your_key

# SMS (Optional)
EXOTEL_SID=your_sid
EXOTEL_API_KEY=your_key
EXOTEL_API_TOKEN=your_token

# ------------------------------------------
# 7. Error Tracking (Sentry)
# ------------------------------------------
SENTRY_DSN=https://[key]@[id].ingest.sentry.io/[project]

# ------------------------------------------
# 8. Video (Agora)
# ------------------------------------------
VIDEO_PROVIDER=agora
AGORA_APP_ID=your_agora_app_id
AGORA_APP_CERTIFICATE=your_agora_certificate

# ------------------------------------------
# 9. CORS & Cross-Subdomain Auth
# ------------------------------------------
# Comma-separated list of allowed origins
# Use wildcard for subdomain support: https://*.rozx.in
CORS_ORIGIN=https://*.rozx.in,https://rozx.in
CORS_CREDENTIALS=true

# Cookie domain for cross-subdomain auth (must start with dot)
# This allows cookies to be shared across all subdomains
COOKIE_DOMAIN=.rozx.in
